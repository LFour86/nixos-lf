# NixOS Configuration

A declarative NixOS system configuration using Nix flakes, featuring a customized desktop environment with 3N (NixOS + Niri + Noctalia), Neovim, and various productivity tools.

---
## ⚠️ NOTICE / WARNING ⚠️

> **Do NOT blindly apply this configuration!**

- **Change the username**: Make sure to update all references to my username (`lfour`) to your own throughout the configs.
- **Hardware Partitioning**: The file `system/hardware/partition.nix` is a direct copy of the original `hardware-configuration.nix` generated by the NixOS installer. You should copy your own generated hardware config here for your machine.
- **LUKS Disk Encryption**: My setup uses LUKS-encrypted disks. If you also use disk encryption, copy the `boot.initrd.luks.devices` line from your auto-generated `configuration.nix` into `system/config/security.nix`. If you don't use encryption, you can ignore this. For privacy, my repo contains a modified and commented-out version of this line—check the comments in `system/config/security.nix` for details.
- **Adapt to Your Needs**: This config is tailored for my hardware and preferences. Review and adjust all settings before use!

---

## Features

- **Desktop Environment**: Niri Wayland compositor with custom configuration
- **Shell**: Noctalia shell integration
- **Editor**: Neovim with custom plugins and settings
- **Browser**: Zen Browser
- **System Management**: Home Manager for user configuration
- **Hardware Support**: NVIDIA, AMDGPU, Bluetooth, audio, and other hardware configurations
- **Security**: SSH, firewall, and security hardening
- **Virtualization**: Docker and other virtualization tools

## Useage

1. Clone this repository:
   ```bash
   git clone https://github.com/yourusername/nixos-lf.git
   sudo cp -r nixos-lf/ /etc/nixos
   ```

2. Update the config files as needed, for example:
   - In system/config/user.nix, change "lfour" to your username;
   - In system/programs/programs.nix, change "lfour" to your username in the `programs.fish.shellAliases.update` line.
        
3. Build and switch to the new configuration:
   ```bash
   sudo nixos-rebuild switch --flake .#yourname
   ```

## Directory Structure

```
.
├── flake.nix              # Main flake configuration
├── flake.lock             # Flake lock file
├── home/                  # User configuration (Home Manager)
│   ├── config/            # User-specific configs (Neovim, Screen, etc.)
│   ├── programs/          # User programs and packages
│   └── wallpapers/        # Wallpaper files
├── overlays/              # Nixpkgs overlays
│   └── local_apps/        # Custom local applications
└── system/                # System-wide configuration
    ├── config/            # System configs (bootloader, desktop, etc.)
    ├── hardware/          # Hardware-specific configurations
    └── programs/          # System programs and services
```


## Customization

- **System Config**: Edit files in `system/config/`
- **User Config**: Edit files in `home/config/`
- **Programs**: Modify `system/programs/` and `home/programs/`
- **Hardware**: Adjust settings in `system/hardware/`

## Dependencies

- NixOS 25.11 && unstable
- Home Manager
- Zen Browser flake
- Noctalia shell


## License

This project is licensed under the GPLv3 License - see the LICENSE file for details.
